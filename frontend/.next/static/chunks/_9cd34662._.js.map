{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///F:/Instech/frontend/src/components/ProtectedRoute.js"],"sourcesContent":["import { useAuth } from '../context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect } from 'react';\r\n\r\nconst ProtectedRoute = ({ children, role }) => {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  console.log('userL jere',user?.user)\r\n  console.log('userL jere role',user?.user?.role)\r\n  useEffect(() => {\r\n    if (!user?.user) {\r\n      router.push('/login');\r\n    } else if (role && user?.user?.role !== role) {\r\n      router.push('/');\r\n    }\r\n  }, [user, router, role]);\r\n\r\n  return user ? children : null;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;;IACxC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,QAAQ,GAAG,CAAC,cAAa,MAAM;IAC/B,QAAQ,GAAG,CAAC,mBAAkB,MAAM,MAAM;IAC1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI,CAAC,MAAM,MAAM;gBACf,OAAO,IAAI,CAAC;YACd,OAAO,IAAI,QAAQ,MAAM,MAAM,SAAS,MAAM;gBAC5C,OAAO,IAAI,CAAC;YACd;QACF;mCAAG;QAAC;QAAM;QAAQ;KAAK;IAEvB,OAAO,OAAO,WAAW;AAC3B;GAdM;;QACa,gIAAA,CAAA,UAAO;QACT,qIAAA,CAAA,YAAS;;;KAFpB;uCAgBS","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///F:/Instech/frontend/src/app/dashboard/attendance/page.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport ProtectedRoute from '../../../components/ProtectedRoute';\r\n\r\nconst AttendancePage = () => {\r\n  const [attendance, setAttendance] = useState([]);\r\n  const [todayStatus, setTodayStatus] = useState(null);\r\n\r\n  const fetchAttendance = async () => {\r\n    const res = await axios.get(`${process.env.NEXT_PUBLIC_API_URL}/attendance/my`);\r\n    setAttendance(res.data.records);\r\n    setTodayStatus(res.data.today); // { status: \"Present\" | \"Leave\" | null, checkIn, checkOut }\r\n  };\r\n\r\n  const checkIn = async () => {\r\n    await axios.post(`${process.env.NEXT_PUBLIC_API_URL}/attendance/checkin`);\r\n    fetchAttendance();\r\n  };\r\n\r\n  const checkOut = async () => {\r\n    await axios.post(`${process.env.NEXT_PUBLIC_API_URL}/attendance/checkout`);\r\n    fetchAttendance();\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAttendance();\r\n  }, []);\r\n\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Attendance</h2>\r\n<Link href=\"/dashboard/attendance/leave\" className=\"text-blue-500 underline\">Apply for Leave</Link>\r\n\r\n        <div className=\"mb-6 border p-4 bg-gray-50\">\r\n          <p className=\"mb-2\">Today's Status: <strong>{todayStatus?.status || 'Not Marked'}</strong></p>\r\n          <div className=\"space-x-4\">\r\n            {!todayStatus?.checkIn && (\r\n              <button onClick={checkIn} className=\"px-4 py-2 bg-green-600 text-white rounded\">Check In</button>\r\n            )}\r\n            {todayStatus?.checkIn && !todayStatus?.checkOut && (\r\n              <button onClick={checkOut} className=\"px-4 py-2 bg-yellow-500 text-white rounded\">Check Out</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <h3 className=\"text-lg font-medium mb-2\">Your Attendance Records</h3>\r\n        <table className=\"w-full bg-white text-sm\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"py-2\">Date</th>\r\n              <th className=\"py-2\">Status</th>\r\n              <th className=\"py-2\">Check In</th>\r\n              <th className=\"py-2\">Check Out</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {attendance.map((a) => (\r\n              <tr key={a._id}>\r\n                <td className=\"text-center py-1\">{new Date(a.date).toLocaleDateString()}</td>\r\n                <td className=\"text-center py-1\">{a.status}</td>\r\n                <td className=\"text-center py-1\">{a.checkIn ? new Date(a.checkIn).toLocaleTimeString() : '--'}</td>\r\n                <td className=\"text-center py-1\">{a.checkOut ? new Date(a.checkOut).toLocaleTimeString() : '--'}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n};\r\n\r\nexport default AttendancePage;\r\n"],"names":[],"mappings":";;;AAWmC;;AATnC;AACA;AACA;;;AAJA;;;;AAMA,MAAM,iBAAiB;;IACrB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,kBAAkB;QACtB,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,iEAAmC,cAAc,CAAC;QAC9E,cAAc,IAAI,IAAI,CAAC,OAAO;QAC9B,eAAe,IAAI,IAAI,CAAC,KAAK,GAAG,4DAA4D;IAC9F;IAEA,MAAM,UAAU;QACd,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,iEAAmC,mBAAmB,CAAC;QACxE;IACF;IAEA,MAAM,WAAW;QACf,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,iEAAmC,oBAAoB,CAAC;QACzE;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR;QACF;mCAAG,EAAE;IAEL,qBACE,6LAAC,sIAAA,CAAA,UAAc;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA6B;;;;;;8BACnD,6LAAC;oBAAK,MAAK;oBAA8B,WAAU;8BAA0B;;;;;;8BAErE,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAU;;gCAAO;8CAAgB,6LAAC;8CAAQ,aAAa,UAAU;;;;;;;;;;;;sCACpE,6LAAC;4BAAI,WAAU;;gCACZ,CAAC,aAAa,yBACb,6LAAC;oCAAO,SAAS;oCAAS,WAAU;8CAA4C;;;;;;gCAEjF,aAAa,WAAW,CAAC,aAAa,0BACrC,6LAAC;oCAAO,SAAS;oCAAU,WAAU;8CAA6C;;;;;;;;;;;;;;;;;;8BAKxF,6LAAC;oBAAG,WAAU;8BAA2B;;;;;;8BACzC,6LAAC;oBAAM,WAAU;;sCACf,6LAAC;sCACC,cAAA,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;kDAAO;;;;;;kDACrB,6LAAC;wCAAG,WAAU;kDAAO;;;;;;kDACrB,6LAAC;wCAAG,WAAU;kDAAO;;;;;;kDACrB,6LAAC;wCAAG,WAAU;kDAAO;;;;;;;;;;;;;;;;;sCAGzB,6LAAC;sCACE,WAAW,GAAG,CAAC,CAAC,kBACf,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDAAoB,IAAI,KAAK,EAAE,IAAI,EAAE,kBAAkB;;;;;;sDACrE,6LAAC;4CAAG,WAAU;sDAAoB,EAAE,MAAM;;;;;;sDAC1C,6LAAC;4CAAG,WAAU;sDAAoB,EAAE,OAAO,GAAG,IAAI,KAAK,EAAE,OAAO,EAAE,kBAAkB,KAAK;;;;;;sDACzF,6LAAC;4CAAG,WAAU;sDAAoB,EAAE,QAAQ,GAAG,IAAI,KAAK,EAAE,QAAQ,EAAE,kBAAkB,KAAK;;;;;;;mCAJpF,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;AAY5B;GAlEM;KAAA;uCAoES","debugId":null}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///F:/Instech/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}